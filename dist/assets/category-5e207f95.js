import{_ as g,c as o,o as a,a as r,b as e,s as m,v as h,t as d,q as b,e as f,f as v}from"./index-55373f78.js";const _={data(){return{categories:[],name:"",desc:"",imageUrl:"",formatLable:"Add new",isonEdit:!1}},methods:{async onSubmit(n){n.preventDefault();const{id:s,name:u,desc:c,imageUrl:i}=this;let l;if(this.isonEdit?this.isonEdit&&(l=await o.update({id:s,name:u,desc:c,imageUrl:i}),this.isonEdit=!1):l=await o.create({name:u,desc:c,imageUrl:i}),!l){alert(l.error);return}this.formatLable="Add new",this.categories=await o.all(),this.name=this.desc=this.imageUrl=""},updatecate(n){this.id=n._id,this.name=n.name,this.desc=n.desc,this.imageUrl=n.imageUrl,this.isonEdit=!0,this.formatLable="update"},cancel(){this.id="",this.name="",this.desc="",this.imageUrl="",this.isonEdit=!1,this.formatLable="Add new"},async deletecate(n){await o.delete(n),this.categories=await o.all(),this.categories=this.categories.data}},async mounted(){this.categories=await o.all()}},x=e("div",{class:"bg-violet-400 text-white py-2 text-lg text-center"},[e("h1",null,"Category")],-1),y={class:"py-2"},U={class:"flex flex-row py-2 px-2 space-x-2 bg-violet-100"},w={type:"submit",class:"bg-blue-500 text-white p-1 px-2 rounded-md"},k={id:"customers"},E=e("tr",{class:"bg-violet-200"},[e("th",null,"Name"),e("th",null,"Description"),e("th",null,"ImageURL"),e("th",null,"Action")],-1),C={class:"flex flex-col space-y-2"},L=["onClick"],D=["onClick"];function S(n,s,u,c,i,l){return a(),r("main",null,[x,e("div",y,[e("form",{onSubmit:s[4]||(s[4]=(...t)=>l.onSubmit&&l.onSubmit(...t)),method:"post"},[e("div",U,[e("div",null,[m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>i.name=t),name:"name",type:"text",placeholder:"Name",required:""},null,512),[[h,i.name]])]),e("div",null,[m(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>i.desc=t),name:"desc",type:"text",placeholder:"Description",required:""},null,512),[[h,i.desc]])]),e("div",null,[m(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>i.imageUrl=t),name:"imageUrl",type:"text",placeholder:"ImageURL",required:""},null,512),[[h,i.imageUrl]])]),e("div",null,[e("button",w,d(i.formatLable),1),i.isonEdit?(a(),r("button",{key:0,type:"submit",class:"bg-blue-500 text-white p-1 px-2 rounded-md",onClick:s[3]||(s[3]=t=>l.cancel())}," Cancel ")):b("",!0)])])],32)]),e("div",null,[e("table",k,[E,(a(!0),r(f,null,v(i.categories,t=>(a(),r("tr",{key:t.name},[e("td",null,d(t.name),1),e("td",null,d(t.desc),1),e("td",null,d(t.imageUrl),1),e("td",null,[e("div",C,[e("button",{class:"hover:text-green-600 hover:font-bold",onClick:p=>l.updatecate(t)}," Edit ",8,L),e("button",{class:"hover:text-green-600 hover:font-bold",onClick:p=>l.deletecate(t)}," Delete ",8,D)])])]))),128))])])])}const q=g(_,[["render",S]]);export{q as default};
